出发地：<input type="text" name="state" id="sloc" list="node_list" onkeyup="search(this)"><br>
目的地：<input type="text" name="state" id="dloc" list="node_list" onkeyup="search(this)"><br>
<input type="button" onclick="Navigate()" value="导航">
<datalist id="node_list"></datalist>


<script src="https://ajax.googleapis.com/ajax/libs/jquery/2.2.0/jquery.min.js"></script>

<script>

	function Navigate() {
		sloc = document.getElementById("sloc").value
		dloc = document.getElementById("dloc").value
		console.log(sloc)
		console.log(dloc)

		var slat, slon, dlat, dlon

		$.get("http://localhost:9000/locations/", {
			name: sloc,
		}, function (data, status) {
			console.log(data)
			slat = data.lat
			slon = data.lon
		});

		$.get("http://localhost:9000/locations/", {
			name: dloc,
		}, function (data, status) {
			console.log(data)
			dlat = data.lat
			dlon = data.lon
		});
	}

	function search(ele) {
		// console.log(ele.value)
		var keyword = ele.value
		if (keyword != '') {
			$.get("http://localhost:9000/locations/", {
				prefix: ele.value
			}, function (data, status) {
				console.log(data)
				$('#node_list').empty()
				$.each(data.names, function (index, item) {
					console.log(item)
					if (ele.value != item) {
						$('#node_list').append('<option value="' + item + '"/>')
					}
				})

				// document.getElementById("direction").innerHTML = "<div class='direction-text'>" + data.text + "</div>";
				// document.getElementById('direction').style = 'height:300px;overflow:auto;border: 2px solid rgb(104, 203, 241);'
			});
		}
	}
</script>